# 股票走势查看器 Chrome 插件

一个简洁的Chrome插件，专注于股票搜索和当天走势图展示。

## 功能特点

- 🔍 **智能搜索**: 支持股票代码和中文名称搜索
- 📊 **当天走势**: 实时显示股票的当天走势图
- 💰 **价格信息**: 显示当前价格、涨跌幅、开盘价、昨收价
- 🎯 **简洁界面**: 专注于核心功能，无多余元素
- ⚡ **快速响应**: 输入即搜索，延迟300ms避免频繁请求
- 🌐 **智能API切换**: 自动检测并选择最佳数据源（Yahoo Finance / 新浪财经）
- 🇨🇳 **国内友好**: 支持新浪财经API，无需代理即可使用
- 📱 **最近选择**: 显示最近选择的5只股票，快速切换
- 💾 **持久化存储**: 选择记录自动保存，下次打开时自动恢复
- 🔄 **折叠功能**: 价格详情可折叠显示，节省空间

## 使用方法

1. **搜索股票**: 在搜索框中输入股票代码或中文名称
2. **查看结果**: 系统会显示最匹配的股票名称和代码
3. **选择股票**: 点击"选择"按钮查看当天走势图

## 支持的股票

- **美股**: AAPL (苹果), TSLA (特斯拉), GOOGL (谷歌), MSFT (微软) 等
- **港股**: 0700.HK (腾讯), 9988.HK (阿里巴巴) 等
- **A股**: 000001.SZ (平安银行), 600519.SH (贵州茅台) 等
- **支持中文名称**: 苹果, 腾讯, 平安银行 等

## 安装方法

1. 下载项目文件到本地
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹
6. 插件安装完成，点击浏览器工具栏的插件图标即可使用

## 文件结构

```
stock/
├── manifest.json      # 插件配置文件
├── popup.html         # 主界面HTML
├── popup.css          # 样式文件
├── popup.js           # 主要逻辑
├── chart.min.js       # Chart.js图表库
├── icons/
│   └── icon.svg       # 插件图标
└── README.md          # 说明文档
```

## 技术实现

- **前端**: HTML5, CSS3, JavaScript (ES6+)
- **图表库**: Chart.js
- **数据源**: Yahoo Finance API / 新浪财经API（自动切换）
- **搜索**: 支持股票代码和中文名称映射
- **API检测**: 自动检测网络环境，智能选择最佳数据源

## 注意事项

- 需要网络连接才能获取股票数据
- 插件会自动检测并选择最佳数据源（Yahoo Finance 或 新浪财经）
- 国内用户无需代理即可使用新浪财经API
- Yahoo Finance API可能返回403错误，此时会自动切换到新浪API
- 走势图显示当天的5分钟间隔数据
- 建议在交易时间使用以获得最佳体验

## 常见问题

### 403错误
如果遇到"Failed to load resource: the server responded with a status of 403"错误：
- 这是Yahoo Finance的反爬虫机制
- 插件会自动检测并切换到新浪财经API
- 可以打开`test-403.html`进行详细测试

## 测试页面

项目包含多个测试页面，用于验证各项功能：

- `test-api-simple.html` - API切换功能简单测试
- `test-api.html` - 完整的API检测和测试
- `test-403.html` - 403错误测试和解决方案
- `test-chart.html` - Chart.js图表功能测试
- `test-price.html` - 价格信息显示测试
- `test-history.html` - 最近选择功能测试
- `test-storage.html` - 存储功能测试 